<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yousif's Site</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="game-frame">
            <canvas id="canvas" width="800" height="600">
                <p>Your browser doesn't support HTML5 canvas.</p>
            </canvas>
        </div>
        <h1>RETRO BOWL</h1>
        <p>By: Creator</p>
        <div class="button-container">
            <button onclick="startGame()">PLAY NOW!</button>
            <button onclick="toggleFullscreen()">FULL SCREEN</button>
            <button onclick="refreshPage()">REFRESH</button>
        </div>
    </div>

    <!-- Load the game script but don't start it immediately -->
    <script src="html5game/RetroBowl.js" defer></script>

    <script>
        let gameStarted = false; // Track if the game has started

        function startGame() {
            if (!gameStarted) { // Only allow the game to start once
                gameStarted = true;
                
                const canvas = document.getElementById('canvas');
                canvas.width = 800;  // Set to the native width for the game
                canvas.height = 600; // Set to the native height for the game
                
                if (typeof GameMaker_Init === "function") {
                    GameMaker_Init(); // Start the game function in RetroBowl.js
                } else {
                    console.error("GameMaker_Init function not found in RetroBowl.js");
                }
            } else {
                console.log("Game already started.");
            }
        }

        function toggleFullscreen() {
            const container = document.querySelector(".container");
            if (!document.fullscreenElement) {
                container.requestFullscreen().catch(err => {
                    console.error(`Error attempting to enable full-screen mode: ${err.message}`);
                });
            } else {
                document.exitFullscreen();
            }
        }

        function refreshPage() {
            location.reload(); // Reloads the page to reset the game
        }
    </script>
</body>
</html>
